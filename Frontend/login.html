<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SignIn Page</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/sweetalert2@11/dist/sweetalert2.min.css">
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
   
<style>
   body {
    color: #666666;
    background: #ffffff;
    font-family: 'Roboto', sans-serif;
    font-weight: 400;
    background-color: #aa9166;
}

#container {
  display: flex;
  justify-content: center;
  align-items: center;
  height: 100vh;
  font-family: 'EB Garamond', serif;
    font-weight: 600;
    font-style: italic;
    color: #121518;
  
}

#boxbody {
  background-color: #121518;
  padding: 20px;
  border-radius: 10px;
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
  max-width: 400px;
  width: 40%;
  font-family: 'EB Garamond', serif;
    font-weight: 600;
    font-style: italic;
    color: #aa9166;
}

.signin {
  text-align: center;
}

h2 {
  color: #aa9166;
  
}

form {
  text-align: left;
  margin-top: 20px;
}

label {
  display: block;
  font-weight:500;
  margin-top: 10px;
  color: #aa9166;
}

input[type="email"],
input[type="password"] {
  width: 90%;
  padding: 10px;
  margin: 5px 0;
  border: 1px solid #ccc;
  border-radius: 5px;
}

button {
  background-color: black;
  color: white;
  border: none;
  padding: 10px 20px;
  border-radius: 5px;
  cursor: pointer;
  margin-top: 10px;
  width: 200px;
  margin-left: 80px;
  
}

button:hover {
  background-color: #aa9166;
}

p {
  color: #aa9166;
  margin-top: 15px;
}

span {
  color: white;
  font-weight: bold;
  cursor: pointer;
}

a {
  text-decoration: none;
  color: #aa9166;
}

#logIn {
  display: block;
  text-align: center;
  margin-top: 20px;
}
.heading{
  text-align: center;
}

@media (min-width: 400px) and (max-width: 664px) {
  /* Add specific styles for screens in this width range */
  #boxbody {
    width: 60%; /* Adjust the box width for screens in this range */
  }

 button{
    width:  200px; /* Adjust the button width for screens in this range */
    padding: 10px 20px;
    margin-left: 75px;
  }
}

@media (min-width: 665px) and (max-width: 1200px) {
  /* Add specific styles for screens in this width range */
  #boxbody {
    width: 50%; /* Adjust the box width for screens in this range */
  }

  button {
    width: 250px; /* Adjust the button width for screens in this range */
    padding: 10px 20px;
    border-radius: 5px;
    cursor: pointer;
    margin-left:70px;
  }
}
  

</style>
</head>

<body>
    <div id="container">
        <div id="boxbody">        
            <!-- <div class="imgbo">
                    <img src="https://bit.ly/3iYuMIl" alt="">
            </div> -->
    
           <div class="signin">
                    <form id="SignIn_Form">
               <h2 class="heading"> SignIn</h2>
                <label for="email"> Email</label><br>
                <input type="email" id="email" placeholder="Enter Email" required><br>

                <label for="password"> Password</label><br>
                <input type="password" id="password" placeholder="Enter Password" required><br>
                
                <button type="submit">SignIn</button>
            </form>
            
              
               <p>By continuing, I agree to the <span> Terms of  Use </span> and <span>privacy policy</span>  </p>
           
                 <p>Have trouble logging in?<span> Get help</span> </p>
                 <p>Already have an account ? <span id="logIn"> <a style="text-decoration: none; color:white ;" href="signup.html">SingUp</a></span></p>
                 
            </div>
    
        </div>
    </div>
</body>
</html>
<!-- <script>
 
function isValidEmail(email) {
    const emailPattern = /^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/;
    return emailPattern.test(email);
  }
document.getElementById("SignIn_Form").addEventListener("submit", function(e){
    e.preventDefault();

//     const name = document.getElementById("name").value;
// const mobileno = document.getElementById("mob").value;
const email=document.getElementById("email").value;
const password=document.getElementById("password").value;
if(!isValidEmail(email)){
    alert("Email Fromet is Wrong")
}
//console.log(name,email,password,mobileno)

    fetch("https://lawconnecthub.onrender.com/user/login",{
            method:"POST",
            headers:{
                "Content-Type":"application/json"
            },
            body:JSON.stringify({email,password})
        })
        .then((res)=>res.json())
        .then((data)=>{
            console.log(data)
            alert("Login Done !")
            localStorage.setItem("Token",data.token)
            localStorage.setItem("userId",data.userId)
            window.location.href="./index.html"
            
        })
        .catch((err)=>{
            console.error("Error",err.message)
            alert(err.message)
        })
});




</script> -->

<script>
  function isValidEmail(email) {
      const emailPattern = /^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/;
      return emailPattern.test(email);
  }
  
  document.getElementById("SignIn_Form").addEventListener("submit", function(e){
      e.preventDefault();
  
      const email = document.getElementById("email").value;
      const password = document.getElementById("password").value;
  
      if (!isValidEmail(email)) {
          Swal.fire({
              icon: 'error',
              title: 'Invalid Email',
              text: 'Email format is incorrect.',
          });
          return; // Stop further execution
      }
  
      fetch("https://lawconnecthub.onrender.com/user/login", {
              method: "POST",
              headers: {
                  "Content-Type": "application/json"
              },
              body: JSON.stringify({ email, password })
          })
          .then((res) => res.json())
          .then((data) => {
              console.log(data);
              Swal.fire({
                  icon: 'success',
                  title: 'Login Successful',
                  text: 'You have been logged in successfully.',
              }).then(() => {
                  localStorage.setItem("Token", data.token);
                  localStorage.setItem("userId", data.userId);
                  window.location.href = "./index.html";
              });
          })
          .catch((err) => {
              console.error("Error", err.message);
              Swal.fire({
                  icon: 'error',
                  title: 'Login Failed',
                  text: err.message,
              });
          });
  });
  </script>
  