<!DOCTYPE html>
<html>
<head>
    <title>Booking Form</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/sweetalert2@11/dist/sweetalert2.min.css">
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    
  <style>
    body{
     
      font-family: 'Roboto', sans-serif;
      font-weight: 400;
      background-color: #aa9166;
      margin: 0;
      padding: 0;
    }
      #container {
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
    background-color: #aa9166;
  }
  
  #boxbody {
    background-color: #121518;
    padding: 20px;
    border-radius: 10px;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
    width: 40%;
  }
  
  /* Style the form */
  .signin {
    text-align: center;
  }
  
  h2 {
    color: #aa9166;
  }
  
  form {
    text-align: left;
  }
  
  label {
    display: block;
    font-weight: bold;
    margin-top: 10px;
    color: #aa9166;
  }
  
  input {
    width: 90%;
    padding: 10px;
    margin: 5px 0;
    border: 1px solid #ccc;
    border-radius: 5px;
  }
  
  button {
    background-color: black;
    color: #fff;
    border: none;
    padding: 10px 20px;
    border-radius: 5px;
    cursor: pointer;
    margin-left:110px;
    width: 300px;
  }
  
  button:hover {
    background-color: #aa9166;
    font-weight: bold;
  }
  
  p {
    color: #aa9166;
  }
  
  span {
    color: white;
    font-weight: bold;
    cursor: pointer;
  }
  @media (min-width: 400px) and (max-width: 664px) {
  /* Add specific styles for screens in this width range */
  #boxbody {
    width: 60%; /* Adjust the box width for screens in this range */
  }

 button{
    width:  200px; /* Adjust the button width for screens in this range */
    padding: 10px 20px;
    margin-left: 75px;
  }
}

@media (min-width: 665px) and (max-width: 1200px) {
  /* Add specific styles for screens in this width range */
  #boxbody {
    width: 50%; /* Adjust the box width for screens in this range */
  }

  button {
    width: 250px; /* Adjust the button width for screens in this range */
    padding: 10px 20px;
    border-radius: 5px;
    cursor: pointer;
    margin-left:90px;
  }
}
  

  </style>
</head>
<body>
  
  <div id="container">
    <div id="boxbody">        
        <!-- <div class="imgbo">
                <img src="https://bit.ly/3iYuMIl" alt="">
        </div> -->

       <div class="signin">
                
           <h2 id="heading"> Book Now</h2> 
           <form id="bookingForm">
            
            <label for="client">Client:</label>
            <input type="text" id="client" required><br>
    
            <label for="date">Date:</label>
            <input type="date" id="date" required><br>
    
            <label for="time">Time:</label>
            <input type="time" id="time" required><br>
    
            <label for="email">Email:</label>
            <input type="email" id="email" required><br>
    
            
    
            <button id="submitbtn" type="submit">Submit Booking</button>
        </form>
        
          
           <p>By continuing, I agree to the <span> Terms of  Use </span> and <span>privacy policy</span>  </p>
       
             <p>Have trouble logging in?<span> Get help</span> </p>
             
        </div>

    </div>
</div>

<!-- <script>
  const bookingForm = document.getElementById('bookingForm');
  const Token = localStorage.getItem("Token");
  const lawyer = localStorage.getItem("lawyer");
  const userId = localStorage.getItem("userId");

  if (Token) {
      bookingForm.addEventListener('submit', (e) => {
          e.preventDefault();

          const client = document.getElementById('client').value;
          const date = document.getElementById('date').value;
          const time = document.getElementById('time').value;
          const email = document.getElementById('email').value;

          // Send data to your server using fetch
          fetch('http://localhost:4500/apponiment/client', {
              method: 'POST',
              headers: {
                  'Content-Type': 'application/json'
              },
              body: JSON.stringify({
                  lawyer,
                  client,
                  date,
                  time,
                  email,
                  userId
              })
          })
          .then(response => response.json())
          .then(data => {
              // Handle the response from the server
              console.log(data);
              Swal.fire({
                  icon: 'success',
                  title: 'Success!',
                  text: 'Slot booked successfully.',
              }).then(() => {
                  window.location.href = "./index.html";
              });
          })
          .catch(err => {
              console.error('Error:', err.message);
              Swal.fire({
                  icon: 'error',
                  title: 'Error!',
                  text: 'This time slot is already booked.',
              });
          });
      });
  } else {
      Swal.fire({
          icon: 'warning',
          title: 'Login Required',
          text: 'Please log in first.',
      });
  }
</script> -->


<script>
  const bookingForm = document.getElementById('bookingForm');
  const Token = localStorage.getItem("Token");
  const lawyer = localStorage.getItem("lawyer");
  const userId = localStorage.getItem("userId");

  if (Token) {
      bookingForm.addEventListener('submit', (e) => {
          e.preventDefault();

          const client = document.getElementById('client').value;
          const date = document.getElementById('date').value;
          const time = document.getElementById('time').value;
          const email = document.getElementById('email').value;

          // Send data to your server using fetch
          fetch('https://lawconnecthub.onrender.com/apponiment/client', {
              method: 'POST',
              headers: {
                  'Content-Type': 'application/json'
              },
              body: JSON.stringify({
                  lawyer,
                  client,
                  date,
                  time,
                  email,
                  userId
              })
          })
          .then(response => response.json())
          .then(data => {
              // Handle the response from the server
              console.log(data);
              Swal.fire({
                  icon: 'success',
                  title: 'Success!',
                  text: 'Slot booked successfully.',
              }).then(() => {
                  window.location.href = "./index.html";
              });
          })
          .catch(err => {
              console.error('Error:', err.message);
              Swal.fire({
                  icon: 'error',
                  title: 'Error!',
                  text: 'This time slot is already booked.',
              });
          });
      });
  } else {
      Swal.fire({
          icon: 'warning',
          title: 'Login Required',
          text: 'Please log in first.',
      });
  }
</script>

</body>
</html>
